"""
shallow_vs_deepcopy.py

–¢–µ–º–∞: –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ (shallow) –∏ –≥–ª—É–±–æ–∫–æ–µ (deep) –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Python

---

üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:

- **Shallow copy** ‚Äî –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è:
  –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–∞–º –æ–±—ä–µ–∫—Ç, –Ω–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (—Å—Å—ã–ª–∫–∏) –æ—Å—Ç–∞—é—Ç—Å—è –æ–±—â–∏–º–∏.

- **Deep copy** ‚Äî –≥–ª—É–±–æ–∫–∞—è –∫–æ–ø–∏—è:
  –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã ‚Äî —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã.

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∑ –º–æ–¥—É–ª—è `copy`:

    from copy import copy, deepcopy
"""

# üîπ –ü—Ä–∏–º–µ—Ä —Å –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ (immutable):

from copy import copy, deepcopy


class A:
    def __init__(self, x):
        self.x = x

a = A(1)
b = copy(a)
print(f"b.x –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è: {b.x}")  # 1

a.x = 2
print(f"b.x –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è a.x: {b.x}")  # 2 ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ x ‚Äî immutable, –Ω–æ —Å—Å—ã–ª–∫–∞ –±—ã–ª–∞ –æ–±—â–∞—è

c = deepcopy(a)
print(f"c.x –ø–æ—Å–ª–µ deepcopy: {c.x}")  # 2

a.x = 3
print(f"c.x –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è a.x: {c.x}")  # 2 ‚Äî deepcopy —Å–æ–∑–¥–∞–ª –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç

"""
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –Ω–µ –≤–∏–¥–Ω–æ —Å–∏–ª—å–Ω–æ–π —Ä–∞–∑–Ω–∏—Ü—ã, —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª–µ `x` ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ (immutable).
–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≥–ª—É–±–∂–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º mutable-–æ–±—ä–µ–∫—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–ø–∏—Å–æ–∫.
"""

print("\n---\n")

# üîπ –ü—Ä–∏–º–µ—Ä —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ mutable-–æ–±—ä–µ–∫—Ç–∞–º–∏:

class B:
    def __init__(self, data):
        self.data = data  # —Å–ø–∏—Å–æ–∫ ‚Äî –∏–∑–º–µ–Ω—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç

original = B([1, 2])
shallow = copy(original)
deep = deepcopy(original)

# –ò–∑–º–µ–Ω–∏–º –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
original.data.append(3)

print(f"original.data: {original.data}")   # [1, 2, 3]
print(f"shallow.data: {shallow.data}")     # [1, 2, 3] ‚Äî shallow –∫–æ–ø–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ—Ç –∂–µ —Å–ø–∏—Å–æ–∫
print(f"deep.data: {deep.data}")           # [1, 2] ‚Äî deep –∫–æ–ø–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞

"""

# üß† –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

- Shallow copy —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
- Deep copy –Ω–µ–æ–±—Ö–æ–¥–∏–º, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é –∫–æ–ø–∏—é, –≤–∫–ª—é—á–∞—è –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.
- –ë—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥—Ä–∞—Ñ–æ–≤ –∏–ª–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏).

"""